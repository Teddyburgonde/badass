Définition:

Le démarage: 
FRR démarre , il lit /etc/frr/daemons , lance zebra bgpd ospfd isisd ( j'ai mit yes).
Les fichiers .conf c'est juste pour que le nom apparait dans le terminal vtysh

FRR: 
C'est une suite de logiciels qui transforme une machine en routeur.

zebra:
bgpd, ospfd, isisd trouve les chemins réseau et zebra est le service qui rends les routes utilisables par la machine.

Pour vérifier que tout tourne: 

clique droit sur router, console, la console s'ouvre dans gns3 , je tape vtysh 
pour zebra -> show zebra status
pour bgp -> show bgp summary
pour ospf -> show ip ospf neighbor
pour isis -? show isi neighbor


P1 sujet de correction: 

C’est quoi un logiciel de routage ? (exemple FRRouting)
Un logiciel de routage permet à une machine de décider où envoyer les paquets réseau.

À quoi servent BGPD / OSPFD / IS-IS ?
- BGPD permet aux réseaux de se parler entre eux.
- OSPF : sert à trouver les routes à l’intérieur d’un réseau. ( les grandes entreprises)
- IS-IS fait la même chose qu’OSPF, mais avec une autre méthode. (souvent les operateurs telephonique)

Qu’est-ce que le service de moteur de routage demandé dans le sujet ?
c’est IS-IS.

Qu’est-ce que BusyBox demandé dans le sujet ?
BusyBox est un ensemble d’outils Linux simples dans un seul programme.
Il sert a tester le reseau avec ping par exemple.

Pourquoi zebra est nécessaire ?
Zebra est le service qui installe les routes dans la machine. 


couche2 couche3 ? 
couche2 -> machine proche , utilise les adresses Mac 
couche3 -> Sert a communiquer entre differents reseau, utilise les adresses ip 


Entrer dans le contenauire 
docker exec -it e64044bf35ac bash

verife si les services tournes 

vtysh

# Vérifier BGP
show ip bgp summary

# Vérifier OSPF
show ip ospf neighbor

# Vérifier IS-IS
show isis neighbor

# Vérifier les interfaces
show interface brief

ou ps aux | grep frr


----

Configuration de chaque host 

ip addr add 10.1.1.10/24 dev eth0
ip link set eth0 up
ip route add default via 10.1.1.1
ping 10.1.1.11

2eme host 
ip addr add 10.1.1.11/24 dev eth0
ip link set eth0 up
ip route add default via 10.1.1.1
ping 10.1.1.10

---------

test p1 
- on cree un host et un routeur (ou plus si envie)
- comme on a defini notre routeur sur le port 10.1.1.1, alors
- on defini le port eth0 de notre host avec une ip :
- a mettre dans le terminal de l'host
docker exec -it <> sh
ip route add default via 10.1.1.1
ip addr add 10.1.1.2/24 dev eth0
ip link set eth0 up
- ensuite on peut tester de ping notre routeur :
ping 10.1.1.1

----------

Test p2 static:

- on met 2 routeur et 2 host 
- les deux routeur s'appel gmersch-routeur-1 (2 pour lautre)
- on ouvre le shell de routeur-1 :
docker exec -it <> bash
- dans le shell de celui ci, on execute le script STATIC OU MULTICAST CECI EST UN EXEMPLE:
sh /scripts/vxlan_static_router.sh
- on fait la meme chose avec routeur-2
- ensuite on ouvre le shell de l'host1
- dedans, on lui defini sont ip:
ip addr add 1.1.1.1/24 dev eth0
- on fait la meme chose avec l'host2
ip addr add 1.1.1.2/24 dev eth0
ensuite on cable les host et les routeurs
Router 1 (eth0) <---> Router 2 (eth0)
Router 1 (eth1) <---> Host 1 (eth0)
Router 2 (eth1) <---> Host 2 (eth0)
- pour finir, on fait un ping pour check dans le host1 par exemple:
ping 1.1.1.2
- C'EST GG




